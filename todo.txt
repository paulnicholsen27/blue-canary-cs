
CMS Blog Setup (Decap CMS + Eleventy)
===================================

1) Commit + push code
	- Ensure these are committed: admin/, content/posts/, blog/, _includes/, _data/, .eleventy.js, netlify/functions/oauth.js, netlify.toml, package.json, package-lock.json
	- Push to GitHub

2) Confirm Netlify deploy branch
	- Decide which branch Netlify deploys (admin/config.yml uses: branch: production)
	- If Netlify deploys a different branch, update admin/config.yml to match

3) Create a GitHub OAuth App (for Decap CMS login)
	- GitHub Settings → Developer settings → OAuth Apps → New OAuth App
	- Homepage URL: https://www.bluecanarywebdesign.com
	- Authorization callback URL: https://www.bluecanarywebdesign.com/.netlify/functions/oauth

4) Add secrets to Netlify (Site settings → Build & deploy → Environment)
	- GITHUB_CLIENT_ID = <from GitHub OAuth App>
	- GITHUB_CLIENT_SECRET = <from GitHub OAuth App>

5) Verify Decap CMS config values
	- admin/config.yml
	  - repo: paulnicholsen27/blue-canary-cs
	  - branch: production
	  - base_url: https://www.bluecanarywebdesign.com
	  - auth_endpoint: /.netlify/functions/oauth

6) Deploy on Netlify
	- Netlify should run the build from netlify.toml:
	  - command: npm run build
	  - publish: dist
	- Confirm functions directory is active:
	  - [functions] directory = netlify/functions

7) Smoke test in production
	- Visit https://www.bluecanarywebdesign.com/blog/
	- Visit https://www.bluecanarywebdesign.com/admin/
	- In /admin:
	  - Click login, complete GitHub OAuth
	  - Create a new post and publish
	  - Confirm the new post appears on /blog/ and has a working URL

8) (Optional) Tighten GitHub OAuth permissions
	- Since repo is public, scope is set to public_repo
	- If you previously authorized with broader scope, revoke and re-authorize the OAuth app in GitHub

9) Content workflow basics
	- Images uploaded in CMS go to: assets/images/uploads
	- Posts are stored in: content/posts/*.md
	- RSS feed should be at: /feed.xml

